import{getData}from"./getData.js";import{renderCell}from"./renderTable.js";const btnHidden=document.querySelector(".btn-hidden_all"),tableData=document.querySelector(".container"),pointsHidden=document.querySelectorAll("[data-hidden]"),table=document.querySelector(".table"),hiddenBtns=document.querySelectorAll(".btn-hidden"),blockColor=document.getElementById("block"),btnShow=document.querySelector(".btn-show_all");function hiddenAllColumn(){btnHidden.addEventListener("click",()=>{var e;tableData.dataset.hidden&&"off"!==tableData.dataset.hidden||(tableOn(),e=["hidden-1","hidden-2","hidden-3","hidden-4"],table.classList.add(...e),pointsHidden.forEach(e=>{e.setAttribute("data-hidden","on")}))})}function showAllColumn(){btnShow.addEventListener("click",()=>{var e;"on"===tableData.dataset.hidden&&(tableOff(),e=["hidden-1","hidden-2","hidden-3","hidden-4"],table.classList.remove(...e),pointsHidden.forEach(e=>{e.setAttribute("data-hidden","off")}))})}function hiddenColumn(){hiddenBtns.forEach((e,t)=>{e.addEventListener("click",()=>{"off"===e.children[0].dataset.hidden?(e.children[0].setAttribute("data-hidden","on"),table.classList.add(`hidden-${t+1}`),table.matches(".hidden-1.hidden-2.hidden-3.hidden-4")&&tableOn()):"on"===e.children[0].dataset.hidden&&(e.children[0].setAttribute("data-hidden","off"),table.classList.remove(`hidden-${t+1}`),tableOff()),getData().then(e=>{renderCell(JSON.parse(localStorage.getItem(e)))})})})}function tableOn(){tableData.setAttribute("data-hidden","on"),tableData.style.display="none",blockColor.style.display=""}function tableOff(){tableData.setAttribute("data-hidden","off"),tableData.style.display="",blockColor.style.display="none"}export{hiddenColumn,hiddenAllColumn,showAllColumn};